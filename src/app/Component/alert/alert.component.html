
<head>
    <!-- Font Awesome CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/brands.js"
      integrity="sha384-sCI3dTBIJuqT6AwL++zH7qL8ZdKaHpxU43dDt9SyOzimtQ9eyRhkG3B7KMl6AO19"
      crossorigin="anonymous"></script>
  
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@1,600&display=swap"
      rel="stylesheet">
  </head>

  <div class="filter-container">
    <div class="select-container">
      <label for="filterType" class="form-label fw-bold">Filtrar por tipo de alerta:</label>
      <select id="filterType" [(ngModel)]="selectedAlertType" class="form-select" (change)="filterAlerts()">
        <option value="">Todos</option>
        <option *ngFor="let type of alertTypes" [value]="type">{{ type }}</option>
      </select>
    </div>

  </div>
  


  <div class="cards-container d-flex flex-wrap gap-1rem" style="cursor:pointer">
    <div *ngFor="let a of filteredAlerts || []" class="d-flex flex-wrap gap-10">
      <div data-bs-toggle="modal" data-bs-target="#staticBackdrop" 
           class="card bg-light mb-3" 
           style="width: 18rem; text-align: center;">
        <div class="card-body">
          <h5 class="card-title">Tipo de Alerta: {{ a.alert.alert_type }}</h5>
          <p class="card-text">Estado: {{ a.alert.alert_status }}</p>
          <p class="card-text">Planta: {{ a.plantName }}</p>
          <p class="card-text">ID Planta: {{ a.plantId }}</p>
          <p class="card-text">ID Alerta: {{ a.id_alert }}</p>
          <p class="card-text">Fecha lanzamiento alerta: {{a.alert_at | formatDate }}</p>
          <button *ngIf="a.alert.alert_status!== 'RESUELTA'"class="button-resolve" (click)="resolveAlert(a)">Marcar como resuelta</button>

        </div>
      </div>
    </div>
  </div>